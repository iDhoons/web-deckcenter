---
import BaseLayout from '../layouts/BaseLayout.astro';

const resourceCategories = [
  {
    id: 'specs',
    name: '제품 사양서',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>`,
    resources: [
      { name: '목재 데크 사양서', size: '2.4 MB', type: 'PDF', filename: 'wood-deck-spec.pdf' },
      { name: '합성목 데크 사양서', size: '3.1 MB', type: 'PDF', filename: 'composite-deck-spec.pdf' },
      { name: '알루미늄 데크 사양서', size: '2.8 MB', type: 'PDF', filename: 'aluminum-deck-spec.pdf' },
      { name: '부자재 카탈로그', size: '5.2 MB', type: 'PDF', filename: 'accessories-catalog.pdf' }
    ]
  },
  {
    id: 'manuals',
    name: '시공 매뉴얼',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>`,
    resources: [
      { name: '기본 시공 가이드', size: '4.5 MB', type: 'PDF', filename: 'basic-installation-guide.pdf' },
      { name: '고급 시공 기법', size: '3.8 MB', type: 'PDF', filename: 'advanced-installation.pdf' },
      { name: '문제 해결 가이드', size: '2.1 MB', type: 'PDF', filename: 'troubleshooting-guide.pdf' }
    ]
  },
  {
    id: 'certs',
    name: '인증서',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>`,
    resources: [
      { name: 'KS 인증서', size: '1.2 MB', type: 'PDF', filename: 'ks-certification.pdf' },
      { name: '친환경 인증서', size: '0.8 MB', type: 'PDF', filename: 'eco-certification.pdf' }
    ]
  },
  {
    id: 'maintenance',
    name: '유지보수',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>`,
    resources: [
      { name: '정기 관리 체크리스트', size: '1.5 MB', type: 'PDF', filename: 'maintenance-checklist.pdf' },
      { name: '계절별 관리 가이드', size: '2.3 MB', type: 'PDF', filename: 'seasonal-care-guide.pdf' }
    ]
  }
];
---

<BaseLayout
  title="기술 자료실 | 데크센터"
  description="데크 제품 사양서, 시공 매뉴얼, 인증서 등 필요한 기술 자료를 다운로드하세요."
>
  <div class="resources-hero">
    <div class="resources-hero-overlay"></div>
    <div class="resources-hero-content">
      <h1>기술 자료실</h1>
      <p>제품 사양서, 시공 매뉴얼, 인증서를 한 곳에서</p>
    </div>
  </div>

  <div class="resources-container">
    <div class="resources-intro">
      <p>데크센터의 모든 기술 자료를 무료로 다운로드하실 수 있습니다.<br/>필요한 자료를 클릭하여 PDF 파일을 받아보세요.</p>
    </div>

    {resourceCategories.map((category) => (
      <section class="resource-category">
        <div class="category-header">
          <div class="category-icon" set:html={category.icon} />
          <h2>{category.name}</h2>
        </div>

        <div class="resources-grid">
          {category.resources.map((resource) => (
            <a href={`/resources/${resource.filename}`} class="resource-card" download>
              <div class="resource-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                </svg>
                <span class="file-type">{resource.type}</span>
              </div>
              <div class="resource-info">
                <h3>{resource.name}</h3>
                <span class="resource-meta">{resource.size}</span>
              </div>
              <div class="download-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
              </div>
            </a>
          ))}
        </div>
      </section>
    ))}

    <div class="resources-notice">
      <div class="notice-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
      </div>
      <div class="notice-content">
        <h3>추가 자료가 필요하신가요?</h3>
        <p>원하시는 자료가 없거나 추가 기술 문의가 있으시면 <a href="/contact">문의하기</a> 페이지를 통해 연락해주세요.</p>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  .resources-hero {
    position: relative;
    height: 280px;
    background-image: url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=1600');
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .resources-hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 66, 80, 0.85) 0%, rgba(0, 90, 110, 0.75) 100%);
  }

  .resources-hero-content {
    position: relative;
    z-index: 1;
    text-align: center;
    color: white;
  }

  .resources-hero-content h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: white;
  }

  .resources-hero-content p {
    font-size: 1.2rem;
    opacity: 0.9;
  }

  .resources-container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 3rem 1.5rem;
  }

  .resources-intro {
    text-align: center;
    margin-bottom: 3rem;
  }

  .resources-intro p {
    color: var(--color-text-light);
    font-size: 1.1rem;
    line-height: 1.7;
  }

  /* 카테고리 섹션 */
  .resource-category {
    margin-bottom: 3rem;
  }

  .category-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--color-gray-100);
  }

  .category-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  .category-header h2 {
    font-size: 1.5rem;
    margin: 0;
  }

  /* 리소스 그리드 */
  .resources-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1rem;
  }

  .resource-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background: white;
    border: 1px solid var(--color-gray-200);
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .resource-card:hover {
    border-color: var(--color-accent);
    box-shadow: 0 4px 16px rgba(0, 66, 80, 0.1);
    transform: translateY(-2px);
  }

  .resource-icon {
    position: relative;
    color: var(--color-accent);
    flex-shrink: 0;
  }

  .file-type {
    position: absolute;
    bottom: 2px;
    right: -4px;
    background: var(--color-accent);
    color: white;
    font-size: 0.6rem;
    font-weight: 700;
    padding: 2px 4px;
    border-radius: 3px;
  }

  .resource-info {
    flex: 1;
    min-width: 0;
  }

  .resource-info h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .resource-meta {
    font-size: 0.85rem;
    color: var(--color-text-light);
  }

  .download-icon {
    color: var(--color-text-light);
    transition: color 0.2s ease;
    flex-shrink: 0;
  }

  .resource-card:hover .download-icon {
    color: var(--color-accent);
  }

  /* 안내 박스 */
  .resources-notice {
    display: flex;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--color-bg-alt);
    border-radius: 12px;
    border: 1px solid var(--color-gray-200);
    margin-top: 2rem;
  }

  .notice-icon {
    color: var(--color-accent);
    flex-shrink: 0;
  }

  .notice-content h3 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
  }

  .notice-content p {
    color: var(--color-text-light);
    font-size: 0.95rem;
    margin: 0;
  }

  .notice-content a {
    color: var(--color-accent);
    text-decoration: underline;
  }

  /* 반응형 */
  @media (max-width: 768px) {
    .resources-hero {
      height: 220px;
    }

    .resources-hero-content h1 {
      font-size: 2rem;
    }

    .resources-container {
      padding: 2rem 1rem;
    }

    .resources-grid {
      grid-template-columns: 1fr;
    }

    .resources-notice {
      flex-direction: column;
      text-align: center;
    }
  }
</style>
