---
interface Props {
  title: string;
  description?: string;
  image: string;
  link: string;
  badge?: string;
  badgeColor?: string;
}

const { title, description, image, link, badge, badgeColor } = Astro.props;
---

<a
  href={link}
  class="card group relative overflow-hidden rounded-[20px] border border-warm-200 bg-white shadow-md hover:shadow-xl transition-all duration-300 ease-out hover:-translate-y-2 hover:border-accent-light"
>
  <div class="card-image-wrapper relative overflow-hidden">
    <img
      src={image}
      alt={title}
      loading="lazy"
      class="card-image h-[220px] w-full object-cover transition-transform duration-500 ease-out group-hover:scale-105"
    />
    {badge && (
      <span class="card-badge absolute top-4 left-4 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-lg text-sm font-semibold text-accent shadow-md" style={badgeColor ? `color: ${badgeColor}` : ''}>
        {badge}
      </span>
    )}
  </div>
  <div class="p-6">
    <h3 class="mb-2 text-lg font-semibold text-text group-hover:text-accent transition-colors duration-fast">{title}</h3>
    {description && <p class="text-[0.9375rem] leading-relaxed text-text-secondary line-clamp-2">{description}</p>}
  </div>
</a>

<style>
  .card {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s ease;
  }

  .card-image {
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-badge {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  /* Dark mode adjustments */
  [data-theme="dark"] .card {
    background: var(--color-bg-secondary);
    border-color: var(--color-warm-200);
  }

  [data-theme="dark"] .card:hover {
    border-color: var(--color-accent);
  }

  [data-theme="dark"] .card-badge {
    background: rgba(28, 25, 23, 0.95);
  }
</style>
