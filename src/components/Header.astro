---
---

<header
  role="banner"
  class="header sticky top-0 z-header border-b border-border/60 backdrop-blur-md bg-bg/85 supports-[backdrop-filter]:bg-bg/60"
>
  <nav
    aria-label="주 메뉴"
    class="mx-auto flex h-16 max-w-DEFAULT items-center justify-between"
  >
    <a href="/" class="logo text-xl font-bold tracking-tight text-text" aria-label="데크센터 홈"
      >데크센터</a
    >

    <ul class="hidden list-none items-center gap-8 md:flex" id="navLinks">
      <li><a href="/features" class="nav-link text-[0.9375rem] font-medium text-text-secondary transition-colors duration-fast hover:text-text">기능</a></li>
      <li><a href="/pricing" class="nav-link text-[0.9375rem] font-medium text-text-secondary transition-colors duration-fast hover:text-text">가격</a></li>
      <li><a href="/gallery" class="nav-link text-[0.9375rem] font-medium text-text-secondary transition-colors duration-fast hover:text-text">갤러리</a></li>
      <li><a href="/blog" class="nav-link text-[0.9375rem] font-medium text-text-secondary transition-colors duration-fast hover:text-text">블로그</a></li>
    </ul>

    <div class="hidden items-center gap-4 md:flex">
      <a href="/app" class="cta-button btn btn-primary text-[0.9375rem] py-2.5 px-5 rounded-lg shadow-md hover:shadow-lg transition-all duration-base">시작하기</a>
    </div>

    <button
      class="mobile-menu-btn flex h-11 w-11 cursor-pointer flex-col items-center justify-center gap-[6px] border-none bg-transparent p-3 md:hidden"
      id="mobileMenuBtn"
      aria-label="메뉴 열기"
      aria-expanded="false"
    >
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </nav>

  <div
    class="mobile-menu-overlay"
    id="mobileOverlay"
  >
  </div>

  <div
    class="mobile-menu fixed top-0 right-0 z-[1001] flex h-screen w-[min(320px,85vw)] transform flex-col bg-white p-6 transition-transform duration-slow shadow-2xl"
    id="mobileMenu"
    role="dialog"
    aria-modal="true"
    aria-label="주 메뉴"
  >
    <div
      class="flex items-center justify-between border-b border-warm-200 pb-6 mb-6"
    >
      <span class="text-lg font-bold text-text">데크센터</span>
      <button
        class="flex h-11 w-11 cursor-pointer items-center justify-center rounded-lg border-none bg-transparent text-text transition-colors duration-fast hover:bg-warm-100"
        id="mobileCloseBtn"
        aria-label="메뉴 닫기"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <ul class="flex flex-col list-none gap-2">
      <li><a href="/features" class="mobile-link block py-4 px-4 rounded-lg font-medium text-text transition-all duration-fast hover:bg-warm-50 hover:text-text-secondary">기능</a></li>
      <li><a href="/pricing" class="mobile-link block py-4 px-4 rounded-lg font-medium text-text transition-all duration-fast hover:bg-warm-50 hover:text-text-secondary">가격</a></li>
      <li><a href="/gallery" class="mobile-link block py-4 px-4 rounded-lg font-medium text-text transition-all duration-fast hover:bg-warm-50 hover:text-text-secondary">갤러리</a></li>
      <li><a href="/blog" class="mobile-link block py-4 px-4 rounded-lg font-medium text-text transition-all duration-fast hover:bg-warm-50 hover:text-text-secondary">블로그</a></li>
    </ul>
    <a href="/app" class="mt-auto block rounded-xl bg-primary p-4 text-center font-semibold text-white shadow-lg transition-all duration-base hover:bg-primary-soft hover:shadow-xl">시작하기</a>
  </div>
</header>

<style>
  /* Glassmorphism Header */
  .header {
    transition: background var(--transition-base), backdrop-filter var(--transition-base);
  }

  /* Logo hover effect */
  .logo:hover {
    color: var(--color-accent);
  }

  /* Nav link with underline animation */
  .nav-link {
    position: relative;
    transition: color var(--transition-fast);
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--color-accent);
    transition: width var(--transition-base);
    border-radius: 1px;
  }

  .nav-link:hover::after {
    width: 100%;
  }

  /* Enhanced CTA button */
  .cta-button {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }

  .cta-button:hover {
    transform: translateY(-1px);
  }

  .hamburger-line {
    width: 20px;
    height: 2px;
    background: var(--color-text);
    border-radius: 1px;
    transition: all var(--transition-base);
  }

  .mobile-menu-btn[aria-expanded="true"] .hamburger-line:first-child {
    transform: rotate(45deg) translate(3px, 3px);
  }

  .mobile-menu-btn[aria-expanded="true"] .hamburger-line:last-child {
    transform: rotate(-45deg) translate(3px, -3px);
  }

  /* Mobile Menu Overlay */
  .mobile-menu-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
  }

  .mobile-menu-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  /* Mobile Menu Panel */
  .mobile-menu {
    transform: translateX(100%);
  }

  .mobile-menu.active {
    transform: translateX(0);
  }

  /* Body scroll lock */
  :global(body.menu-open) {
    overflow: hidden;
  }

  /* Dark mode adjustments */
  [data-theme="dark"] .header {
    background: rgba(12, 10, 9, 0.85);
    border-color: rgba(41, 37, 36, 0.6);
  }

  [data-theme="dark"] .mobile-menu {
    background: var(--color-bg-secondary);
  }

  [data-theme="dark"] .mobile-link:hover {
    background: var(--color-warm-100);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .mobile-menu-overlay {
      display: block;
    }
  }

  @media (max-width: 480px) {
    .mobile-menu {
      width: 100vw;
    }
  }
</style>

<script>
  function initMobileMenu() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileCloseBtn = document.getElementById('mobileCloseBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileOverlay = document.getElementById('mobileOverlay');

    if (!mobileMenuBtn || !mobileMenu || !mobileOverlay) return;

    function openMenu() {
      mobileMenu?.classList.add('active');
      mobileOverlay?.classList.add('active');
      mobileMenuBtn?.setAttribute('aria-expanded', 'true');
      document.body.classList.add('menu-open');
    }

    function closeMenu() {
      mobileMenu?.classList.remove('active');
      mobileOverlay?.classList.remove('active');
      mobileMenuBtn?.setAttribute('aria-expanded', 'false');
      document.body.classList.remove('menu-open');
    }

    mobileMenuBtn.addEventListener('click', openMenu);
    mobileCloseBtn?.addEventListener('click', closeMenu);
    mobileOverlay.addEventListener('click', closeMenu);

    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', closeMenu);
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
        closeMenu();
      }
    });
  }

  initMobileMenu();
  document.addEventListener('astro:page-load', initMobileMenu);
</script>
